{"version":3,"sources":["api/api.js","components/TableHeader.tsx","components/TableBody.tsx","components/TableWithData.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["request","a","Promise","resolve","setTimeout","fetch","result","json","TableHeader","history","useHistory","className","map","title","Dropdown","as","ButtonGroup","size","Button","variant","Toggle","split","id","Menu","onClick","event","val","textContent","target","push","join","slice","lastIndexOf","selectSortedType","Item","TableBody","props","clickedRow","setClickedRow","sortedDate","file","date","classNames","name","size_now","ctime","mtime","TableWithData","useState","location","useLocation","searchParams","URLSearchParams","search","cookies","Cookies","data","Table","striped","bordered","hover","sorted","sortBy","get","set","sort","b","localeCompare","parseFloat","App","setData","useEffect","then","length","type","height","width","color","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","CookiesProvider","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.60785770.chunk.js","sourcesContent":["const URL = 'http://fs.mh.net.ua/ajax/lsjson.php?dir=global/video&idu=1';\n\n// <----- I use a delay to display the downloaded data smoothly -----> \\\\\n\nconst delay = () => new Promise(resolve => setTimeout(resolve, 1000));\n\nconst request = async() => {\n  await delay();\n  const result = await fetch(URL);\n\n  return result.json();\n};\n\nexport const getDataFromServer = () => request();\n","import React, { MouseEvent } from 'react';\r\nimport { Dropdown, Button, ButtonGroup } from 'react-bootstrap';\r\nimport { useHistory } from 'react-router';\r\n\r\nexport const TableHeader: React.FC = () => {\r\n  const history = useHistory();\r\n\r\n  const tableTitles = [\r\n    'Name', 'Size', 'Creation time', 'Modification time'\r\n  ];\r\n\r\n  const selectSortedType = (val: string, event: MouseEvent): void => {\r\n    const { textContent } = event.target as HTMLElement;\r\n\r\n    if (textContent === 'Cancel sorting') {\r\n      history.push('');\r\n    } else {\r\n      if (textContent) {\r\n        history.push(\r\n          `?sortBy=${\r\n            val.split(' ').join('-')\r\n          }${\r\n            textContent.slice(textContent.lastIndexOf(' ') + 1)\r\n          }`\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <tr className=\"table__row\">\r\n      {tableTitles.map(title => (\r\n        <th\r\n          key={title}\r\n          className=\"table__title\"\r\n        >\r\n\r\n      <Dropdown as={ButtonGroup} size=\"sm\">\r\n        <Button variant=\"secondary\">{title}</Button>\r\n\r\n        <Dropdown.Toggle split variant=\"secondary\" id=\"dropdown-split-basic\" />\r\n\r\n        <Dropdown.Menu onClick={(event: any) => selectSortedType(title, event)}>\r\n          <Dropdown.Item>Cancel sorting</Dropdown.Item>\r\n          <Dropdown.Item>Sort by ASC</Dropdown.Item>\r\n          <Dropdown.Item>Sort by DESC</Dropdown.Item>\r\n        </Dropdown.Menu>\r\n      </Dropdown>\r\n        </th>\r\n      ))}\r\n    </tr>\r\n  );\r\n}\r\n","import React, { Dispatch, SetStateAction } from 'react';\r\nimport classNames from 'classnames';\r\n\r\nexport interface Data {\r\n  name: string,\r\n  size_now: string,\r\n  ctime: string,\r\n  mtime: string,\r\n  date?: number,\r\n}\r\n\r\ninterface Props {\r\n  clickedRow: string,\r\n  setClickedRow: Dispatch<SetStateAction<string>>,\r\n  sortedDate: () => Data[],\r\n}\r\n\r\nexport const TableBody: React.FC<Props> = (props) => {\r\n  const {\r\n    clickedRow,\r\n    setClickedRow,\r\n    sortedDate,\r\n  } = props;\r\n\r\n  return (\r\n    <>\r\n      {sortedDate().map((file: Data) => (\r\n        <tr\r\n          key={file.name}\r\n          id={`${file.date}`}\r\n          className={classNames(\r\n            'table__row',\r\n            { 'clicked': +clickedRow === file.date }\r\n          )}\r\n          onClick={() => {\r\n            setClickedRow(`${file.date}`);\r\n          }}\r\n        >\r\n          <td className=\"table__data name\">\r\n            &#128194; {file.name}\r\n          </td>\r\n          <td className=\"table__data size\">\r\n            {file.size_now}\r\n          </td>\r\n          <td className=\"table__data created\">\r\n            {file.ctime.slice(-5)}\r\n          </td>\r\n          <td className=\"table__data modificated\">\r\n            {file.mtime.slice(-5)}\r\n          </td>\r\n        </tr>\r\n      ))}\r\n    </>\r\n  );\r\n};","import React, { useState } from 'react';\r\nimport { Table } from 'react-bootstrap';\r\nimport { useLocation } from 'react-router';\r\nimport { TableHeader } from './TableHeader';\r\nimport { TableBody, Data } from './TableBody';\r\nimport Cookies from 'universal-cookie';\r\n\r\ninterface Props {\r\n  data: Data[],\r\n}\r\n\r\nexport const TableWithData: React.FC<Props> = (props) => {\r\n  const [clickedRow, setClickedRow] = useState<string>('');\r\n  const location = useLocation();\r\n  const searchParams = new URLSearchParams(location.search);\r\n  const cookies = new Cookies();\r\n  const { data } = props;\r\n\r\n  const sortedDate = () => {\r\n    const sortBy = searchParams.get('sortBy');\r\n    let sorted;\r\n\r\n    cookies.set('sortBy', sortBy);\r\n\r\n    switch (sortBy) {\r\n      case 'NameASC':\r\n        sorted = [...data]\r\n          .sort((a, b) => a.name.localeCompare(b.name));\r\n        break;\r\n      case 'NameDESC':\r\n        sorted = [...data]\r\n          .sort((a, b) => b.name.localeCompare(a.name));\r\n        break;\r\n      case 'SizeASC':\r\n        sorted = [...data]\r\n          .sort((a, b) => parseFloat(a.size_now) - parseFloat(b.size_now));\r\n        break;\r\n      case 'SizeDESC':\r\n        sorted = [...data]\r\n          .sort((a, b) => parseFloat(b.size_now) - parseFloat(a.size_now));\r\n        break;\r\n      case 'Creation-timeASC':\r\n        sorted = [...data]\r\n          .sort((a, b) => a.ctime.slice(-5).localeCompare(b.ctime.slice(-5)));\r\n        break;\r\n      case 'Creation-timeDESC':\r\n        sorted = [...data]\r\n          .sort((a, b) => b.ctime.slice(-5).localeCompare(a.ctime.slice(-5)));\r\n        break;\r\n      case 'Modification-timeASC':\r\n        sorted = [...data]\r\n          .sort((a, b) => a.mtime.slice(-5).localeCompare(b.mtime.slice(-5)));\r\n        break;\r\n      case 'Modification-timeDESC':\r\n        sorted = [...data]\r\n          .sort((a, b) => b.mtime.slice(-5).localeCompare(a.mtime.slice(-5)));\r\n        break;\r\n      default:\r\n        sorted = data;\r\n    }\r\n\r\n    return sorted;\r\n  };\r\n\r\n  return (\r\n    <Table\r\n      striped\r\n      bordered\r\n      hover\r\n      className=\"table\"\r\n    >\r\n      <thead className=\"table__head\"\r\n      onClick={() => setClickedRow('')}\r\n      >\r\n        <TableHeader />\r\n      </thead>\r\n      <tbody>\r\n        <TableBody\r\n          clickedRow={clickedRow}\r\n          setClickedRow={setClickedRow}\r\n          sortedDate={sortedDate}\r\n        />\r\n      </tbody>\r\n    </Table>\r\n  );\r\n};\r\n","import React, { useEffect, useState } from 'react';\nimport Loader from \"react-loader-spinner\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.scss';\nimport { getDataFromServer } from './api/api';\nimport { TableWithData } from './components/TableWithData';\n\nconst App: React.FC = () => {\n  const [data, setData] = useState([]);\n\n  useEffect(() => {\n    getDataFromServer()\n      .then(setData);\n  }, []);\n\n  return (\n    <>\n      {data.length ? (\n        <div className=\"App\">\n          <TableWithData data={data} />\n        </div>\n        ) : (\n          <div className=\"loader\">\n            <Loader\n              type=\"Circles\"\n              height=\"200\"\n              width=\"200\"\n              color=\"#696969\"\n            />\n          </div>\n        )}\n    </>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport { CookiesProvider } from 'react-cookie';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <CookiesProvider>\n    <BrowserRouter>\n      <React.StrictMode>\n        <App />\n      </React.StrictMode>\n    </BrowserRouter>\n  </CookiesProvider>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}